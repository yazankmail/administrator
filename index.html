<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© - Wusooly Admin</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700;800&display=swap');
        :root { --primary: #0056b3; --dark: #1e293b; --light: #f3f4f6; }
        body { font-family: 'Cairo', sans-serif; background: var(--light); margin: 0; display: flex; height: 100vh; overflow: hidden; }

        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar { width: 260px; background: var(--dark); color: #cbd5e1; display: flex; flex-direction: column; padding: 20px 0; flex-shrink: 0; }
        .logo { text-align: center; color: white; font-weight: 800; font-size: 22px; margin-bottom: 30px; border-bottom: 1px solid #334155; padding-bottom: 15px; }
        .nav { list-style: none; padding: 0 10px; flex: 1; }
        .nav a { display: flex; align-items: center; gap: 10px; padding: 12px; color: #cbd5e1; text-decoration: none; border-radius: 8px; margin-bottom: 5px; transition: 0.2s; font-weight: 600; }
        .nav a:hover, .nav a.active { background: #334155; color: white; }
        .logout { padding: 20px; }
        .btn-out { width: 100%; padding: 10px; background: #ffebee; color: #d32f2f; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .main { flex: 1; padding: 30px; overflow-y: auto; display: none; /* Ù…Ø®ÙÙŠ Ø­ØªÙ‰ Ø§Ù„ØªØ­Ù…ÙŠÙ„ */ }
        .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .card h3 { margin: 0; font-size: 28px; color: #333; }
        .card p { margin: 0; color: #777; font-size: 14px; }
        
        .charts { display: grid; grid-template-columns: 2fr 1fr; gap: 20px; }
        .chart-box { background: white; padding: 20px; border-radius: 12px; }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± */
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 1000; display: flex; justify-content: center; align-items: center; flex-direction: column; }
        .spin { width: 40px; height: 40px; border: 4px solid #eee; border-top-color: var(--primary); border-radius: 50%; animation: spin 1s infinite linear; margin-bottom: 10px; }
        @keyframes spin { 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div id="loader"><div class="spin"></div><p>Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª...</p></div>

    <aside class="sidebar">
        <div class="logo">Wusooly Admin</div>
        <div class="nav">
            <a href="index.html" class="active">ğŸ  Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            <a href="products.html">ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª</a> <a href="#" onclick="alert('Ù‚Ø±ÙŠØ¨Ø§Ù‹')">ğŸ‘¥ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</a>
        </div>
        <div class="logout"><button class="btn-out" onclick="window.logout()">Ø®Ø±ÙˆØ¬</button></div>
    </aside>

    <main class="main" id="content">
        <h2 style="margin-top:0; margin-bottom:20px;">Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹</h2>
        
        <div class="cards">
            <div class="card"><h3>1,500</h3><p>Ø§Ù„Ø²ÙˆØ§Ø±</p></div>
            <div class="card"><h3>320</h3><p>Ø§Ù„Ø·Ù„Ø¨Ø§Øª</p></div>
            <div class="card"><h3>â‚ª 4,200</h3><p>Ø§Ù„Ø£Ø±Ø¨Ø§Ø­</p></div>
            <div class="card"><h3>5</h3><p>ØªÙ†Ø¨ÙŠÙ‡Ø§Øª</p></div>
        </div>

        <div class="charts">
            <div class="chart-box"><canvas id="c1"></canvas></div>
            <div class="chart-box"><canvas id="c2"></canvas></div>
        </div>
    </main>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

        const firebaseConfig = { apiKey: "AIzaSyBa0RwEcbVqWYAKeUFeZy2IDihaxUxtNKY", authDomain: "wusooly-1906b.firebaseapp.com", projectId: "wusooly-1906b", storageBucket: "wusooly-1906b.firebasestorage.app", messagingSenderId: "95836343161", appId: "1:95836343161:web:73ae3faaca406c0bf7fda8" };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const ADMIN = "hmamda320@gmail.com";

        onAuthStateChanged(auth, (user) => {
            if (user && user.email === ADMIN) {
                document.getElementById('loader').style.display = 'none';
                document.getElementById('content').style.display = 'block';
            } else {
                window.location.href = "login.html";
            }
        });

        window.logout = () => signOut(auth).then(() => window.location.href = "login.html");

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©
        new Chart(document.getElementById('c1'), { type: 'line', data: { labels: ['S','M','T','W','T','F'], datasets: [{ label: 'Ø§Ù„Ø²ÙˆØ§Ø±', data: [12,19,3,5,2,3], borderColor: '#0056b3' }] } });
        new Chart(document.getElementById('c2'), { type: 'doughnut', data: { labels: ['A','B','C'], datasets: [{ data: [30,50,20], backgroundColor: ['#0056b3','#008489','#FF9800'] }] } });
    </script>
</body>
          </html>
      
